! Title: My Custom Filters (AdGuard) [COMBINED]
! Description: Auto-generated combined filter list — do not edit manually
! Homepage: https://github.com/YOUR_USERNAME/my-adblock-filters
! Expires: 1 day
! Last modified: 2026-02-15T15:01:34Z
!
! This file is auto-generated by scripts/build.sh
! Edit the individual site files instead.

! ======================================================
! Source: general.txt
! ======================================================

! Title: General Filters (AdGuard)
! Description: Cross-site cleanup rules — tracking parameters, annoyances, privacy
! Last modified:

! ===== CROSS-SITE TRACKING PARAMETERS =====

! UTM tracking parameters (used by Google Analytics)
||*$removeparam=utm_source
||*$removeparam=utm_medium
||*$removeparam=utm_campaign
||*$removeparam=utm_term
||*$removeparam=utm_content
||*$removeparam=utm_id
||*$removeparam=utm_source_platform

! Facebook click tracking
||*$removeparam=fbclid
||*$removeparam=fb_action_ids
||*$removeparam=fb_action_types

! Microsoft / Bing click tracking
||*$removeparam=msclkid

! HubSpot tracking
||*$removeparam=_hsenc
||*$removeparam=_hsmi
||*$removeparam=__hstc
||*$removeparam=__hsfp
||*$removeparam=hsCtaTracking

! Mailchimp tracking
||*$removeparam=mc_cid
||*$removeparam=mc_eid

! General marketing trackers
||*$removeparam=ref_src
||*$removeparam=ref_url

! ===== COMMON ANNOYANCES =====

! Generic newsletter/email signup popups
##div[class*="newsletter-popup"]
##div[class*="newsletter-modal"]
##div[class*="email-popup"]
##div[class*="subscribe-popup"]
##div[id*="newsletter-popup"]
##div[id*="newsletter-modal"]

! Generic notification permission prompts
##div[class*="push-notification"]
##div[class*="notification-prompt"]
##div[class*="web-push"]

! "Download our app" banners
##div[class*="app-banner"]
##div[class*="smart-banner"]
##div[class*="app-download"]
##div[id*="app-banner"]

! ===== GOOGLE SIGN-IN POPUPS =====

! Google One Tap / GSI sign-in overlays on third-party sites
||accounts.google.com/gsi/iframe$third-party
||accounts.google.com/gsi/style$third-party

! ===== PRIVACY & TRACKING =====

! Common third-party trackers
||scorecardresearch.com^$third-party
||quantserve.com^$third-party
||chartbeat.com^$third-party
||hotjar.com^$third-party
||mouseflow.com^$third-party
||fullstory.com^$third-party
||clarity.ms^$third-party
||newrelic.com^$third-party
||nr-data.net^$third-party
||sentry.io^$third-party

! Google Analytics (third-party usage)
||google-analytics.com/analytics.js$script,third-party
||google-analytics.com/ga.js$script,third-party

! Social media tracking pixels
||connect.facebook.net/*/fbevents.js$script,third-party
||facebook.com/tr$image,third-party
||snap.licdn.com/li.lms-analytics$script,third-party
||static.ads-twitter.com/uwt.js$script,third-party
||analytics.tiktok.com^$third-party

! Social media widgets (third-party embeds)
||platform.twitter.com/widgets.js$third-party
||platform.linkedin.com/in.js$third-party


! ======================================================
! Source: linkedin.txt
! ======================================================

! Title: LinkedIn Filters (AdGuard)
! Description: LinkedIn cleanup — adapted from uBO rules for AdGuard compatibility
! Last modified:

! ===== PROMOTED & SPONSORED CONTENT =====

! NOTE: :upward(n) and :xpath() not supported in AdGuard — using :has() alternatives
! Sponsored posts — using :has() chain instead of :upward()
www.linkedin.com##div[role="listitem"]:has(div[componentkey*="sponsoredContentV2"])

! "Promoted" label posts
www.linkedin.com##div[role="listitem"]:has(span:has-text(/^Promoted$/))

! "Suggested" algorithmic posts
www.linkedin.com##div[role="listitem"]:has-text(/Suggested/i)

! Sponsored content CSS class markers
linkedin.com##[class*='--is-sponsored']
linkedin.com##.fie-impression-container:has-text(/Promoted/i)

! Ad banner elements
linkedin.com##.ad-banner
linkedin.com##.ad-banner-container
linkedin.com##iframe[src="about:blank"]
linkedin.com##li.ad-container
linkedin.com##div#topTextAd

! Feed shared promo blocks
linkedin.com##div.feed-shared-promo

! Promoted job listings in feed
www.linkedin.com##div[role="listitem"]:has-text(/Jobs recommended for you/i)

! "Add to your feed" suggestions
www.linkedin.com##div[role="listitem"]:has-text(/Add to your feed/i)

! "Follow for more" prompts in feed
www.linkedin.com##div[role="listitem"]:has-text(/Follow for more/i)

! "Grow your career" / "Build your network" promo cards
www.linkedin.com##div[role="listitem"]:has-text(/Grow your career/i)
www.linkedin.com##div[role="listitem"]:has-text(/Build your network/i)
www.linkedin.com##div[role="listitem"]:has-text(/Catch up on your/i)

! Newsletter promos in feed
www.linkedin.com##div[role="listitem"]:has-text(/Subscribe to see more/i)
www.linkedin.com##div[role="listitem"]:has-text(/newsletter you may like/i)

! Sponsored article data attribute (mobile/logged-out views)
linkedin.com##article[data-is-sponsored]

! "Thought Leader" sponsored posts (member posts promoted by companies)
www.linkedin.com##div[role="listitem"]:has(span:has-text(/^Promoted$/)):has([data-control-name*="thought_leader"])

! ===== REACTIONS & SOCIAL NOISE =====

www.linkedin.com##div[role="listitem"]:has-text(/likes this|like this/i)
www.linkedin.com##div[role="listitem"]:has-text(/loves this|love this/i)
www.linkedin.com##div[role="listitem"]:has-text(/celebrates this|celebrate this/i)
www.linkedin.com##div[role="listitem"]:has-text(/finds this funny|find this funny/i)
www.linkedin.com##div[role="listitem"]:has-text(/finds this insightful|find this insightful/i)
www.linkedin.com##div[role="listitem"]:has-text(/supports this|support this/i)
www.linkedin.com##div[role="listitem"]:has-text(/other connections follow/i)

! Commented/replied engagement noise
www.linkedin.com##div[role="listitem"]:has-text(/commented on this/i)
www.linkedin.com##div[role="listitem"]:has-text(/replied to a comment/i)

! ===== UPSELLING & PREMIUM PROMOS =====

www.linkedin.com##div[role="listitem"]:has-text(/LinkedIn Premium/i)
www.linkedin.com##div[role="listitem"]:has-text(/Reactivate your free trial/i)
www.linkedin.com##div[role="listitem"]:has-text(/Restart your free trial/i)
www.linkedin.com##div[role="listitem"]:has-text(/Retry Premium for free/i)
www.linkedin.com##div[role="listitem"]:has-text(/Open more opportunities/i)
www.linkedin.com##div[role="listitem"]:has-text(/See all your profile viewers/i)
www.linkedin.com##div[role="listitem"]:has-text(/Try Premium for free/i)
www.linkedin.com##div[role="listitem"]:has-text(/Start my free month/i)
www.linkedin.com##div[role="listitem"]:has-text(/Unlock full list with Premium/i)

! Premium upsell UI elements
linkedin.com##.feed-identity-module__anchored-widget--premium-upsell
linkedin.com##.global-nav__spotlight-upsell
linkedin.com##.premium-upsell-link
linkedin.com##.nav-item__try-premium
linkedin.com##div.wvmp-upsell
linkedin.com##div.upsell
linkedin.com##div#insights-upsell
linkedin.com##section.right-rail-upsell
linkedin.com##div.premium-insights
linkedin.com##div.insights-upsell-premium-button-container
linkedin.com##div.insights-upsell-value-description-container
linkedin.com##[class*="premium-upsell"]
linkedin.com##[class*="upsell-bottom"]

! LinkedIn Learning promos
www.linkedin.com##div[role="listitem"]:has-text(/Popular course on LinkedIn Learning/i)
www.linkedin.com##div[role="listitem"]:has-text(/Today's top courses/i)
linkedin.com##.pb3.pt2.learning-top-courses
linkedin.com##div#course-recommendations

! Job search upselling
www.linkedin.com##div[role="listitem"]:has-text(/Accelerate your job search/i)
www.linkedin.com##div[role="listitem"]:has-text(/find a job that matches your skills/i)
www.linkedin.com##div[role="listitem"]:has-text(/Job search smarter/i)
www.linkedin.com##div[role="listitem"]:has-text(/Looking for a remote job/i)
www.linkedin.com##div[role="listitem"]:has-text(/Pick up where you left off with our job search tools/i)
www.linkedin.com##div[role="listitem"]:has-text(/See who's hiring/i)
www.linkedin.com##div[role="listitem"]:has-text(/Top job picks for you/i)
linkedin.com##.jymbii-top-applicant-jobs-upsell
linkedin.com##.jobs-upsell
linkedin.com##.job-card-search__promoted-tag

! AI-generated content promos
www.linkedin.com##div[role="listitem"]:has-text(/Expert answers on/i)

! ===== AI FEATURES & COLLABORATIVE ARTICLES =====

! AI signal icon (sparkle) — upsells Premium
linkedin.com##[data-test-icon*="signal-ai-small"]
linkedin.com##[data-test-icon*="sparkle"]

! "Get key takeaways from this post" — Premium upsell
linkedin.com##.artdeco-button[aria-label*="Get key takeaways from this post"]

! AI coaching prompt container
linkedin.com##.coach-shared-hscroll-bar__multi-container

! Collaborative article headers and navigation
linkedin.com##.update-components-header--with-divider
linkedin.com##.feed-shared-conversations__navigation-context

! AI-powered "Contribute expertise" prompts
www.linkedin.com##div[role="listitem"]:has-text(/Contribute your expertise/i)
www.linkedin.com##div[role="listitem"]:has-text(/Add your perspective/i)

! ===== GAMES & PUZZLES PROMOS =====

! LinkedIn Games / Puzzles promo in feed
www.linkedin.com##div[role="listitem"]:has-text(/Take a break with a LinkedIn puzzle game/i)
www.linkedin.com##div[role="listitem"]:has-text(/Play today's game/i)

! ===== SIDEBAR & MODULES =====

www.linkedin.com##.right-rail
www.linkedin.com##.feed-follows-module
www.linkedin.com##.ember-view.pv3.feed-shared-news-module
www.linkedin.com##.news-module
www.linkedin.com##.ember-view.sticky
www.linkedin.com##aside[aria-label="LinkedIn News"]

! People You May Know
linkedin.com###pymk-container
linkedin.com##div#pymk_cards_container li.card.guest
linkedin.com##li.people-connect-recommend
linkedin.com##li.people-follow-recommend
linkedin.com##li.pymk-card.promo
linkedin.com##.mn-cohorts-list
linkedin.com##.discover-entity

! Jobs/Companies/Groups sidebar widgets
linkedin.com##div#jobsForYou
linkedin.com##div#companiesForYou
linkedin.com##div#groupsForYou

! ===== UI DISTRACTIONS =====

www.linkedin.com##.artdeco-card.share-box-feed-entry__wrapper
www.linkedin.com##.share-box-feed-entry__wrapper
www.linkedin.com##.msg-overlay-list-bubble
linkedin.com##.msg-overlay-bubble-header

! InMail quick reply suggestions
linkedin.com##.msg-inmail-quick-replies

www.linkedin.com##.stories-container
www.linkedin.com##div[role="listitem"]:has-text(/post impressions/i)

! Launchpad / onboarding wormhole
linkedin.com###launchpad-wormhole
linkedin.com###appwall-wormhole

! Survey and feedback popups
linkedin.com##div.survey-questions
linkedin.com##div.survey
linkedin.com##div[id*="social-proof"]

! Fingerprint tracking code
linkedin.com##code[id*="fingerprint"]

! ===== NOTIFICATIONS & ALERTS =====

! Global alert container
linkedin.com###artdeco-global-alert-container
linkedin.com###global-alert-queue
linkedin.com##.global-alert.global-alert--yield

! Premium upgrade modal prompts
linkedin.com##.artdeco-modal-overlay:has(.artdeco-modal:has-text(/Premium|Upgrade|Subscribe/i))

! Sign-in / login wall modals (for logged-out browsing)
linkedin.com###contextual-sign-in-modal
linkedin.com###blocking-upsell-modal
linkedin.com##.shared-modal-dialog
linkedin.com###shared-modal-dialog-wrapper

! ===== COOKIE CONSENT =====

linkedin.com##.cookie-consent-banner
linkedin.com##div[data-test-id="cookie-banner"]
linkedin.com##.cookie-consent__container
linkedin.com##.js-consent-banner
linkedin.com##div[id*="cookie-consent"]
linkedin.com##div[class*="cookie-banner"]

! ===== JOB BOARD =====

www.linkedin.com##li:has-text(Promoted)
www.linkedin.com##div[role="listitem"]:has-text(/Recommended for you/i)
www.linkedin.com##div[role="listitem"]:has-text(/Events recommended for you/i)

! ===== FOOTER =====

linkedin.com##.global-footer-compact
linkedin.com##div#rr-footer

! ===== NETWORK FILTERS — TRACKING PARAMETER REMOVAL =====

||linkedin.com^$removeparam=trk
||linkedin.com^$removeparam=trkInfo
||linkedin.com^$removeparam=trkEmail
||linkedin.com^$removeparam=trkCampaignId
||linkedin.com^$removeparam=trkShareId
||linkedin.com^$removeparam=trkCode
||linkedin.com^$removeparam=originalReferer
||linkedin.com^$removeparam=refId
||linkedin.com^$removeparam=trackingId
||linkedin.com^$removeparam=midToken
||linkedin.com^$removeparam=midSig
||linkedin.com^$removeparam=lipi
||linkedin.com^$removeparam=licu
||linkedin.com^$removeparam=li_fat_id
||linkedin.com^$removeparam=_l
||linkedin.com^$removeparam=eBP
||linkedin.com^$removeparam=rcB
||linkedin.com^$removeparam=src
||linkedin.com^$removeparam=contextUrn
||linkedin.com^$removeparam=destRedirectURL
||linkedin.com^$removeparam=resultPosition
||linkedin.com^$removeparam=controlId
||linkedin.com^$removeparam=sik
||linkedin.com^$removeparam=miniProfileUrn
||linkedin.com^$removeparam=connectionDistance
||linkedin.com^$removeparam=fsd_profile
||linkedin.com^$removeparam=utm_source
||linkedin.com^$removeparam=utm_medium
||linkedin.com^$removeparam=utm_campaign
||linkedin.com^$removeparam=utm_content
||linkedin.com^$removeparam=utm_term
||linkedin.com/feed/update$removeparam=origin

! ===== NETWORK FILTERS — TELEMETRY & EVENT TRACKING =====

||linkedin.com/li/track$xmlhttprequest
||linkedin.com/platform-telemetry$xmlhttprequest
||linkedin.com/mob/tracking$xmlhttprequest
||linkedin.com/lite/ua/error$xmlhttprequest
||linkedin.com/csp/dtag$xmlhttprequest
||linkedin.com/csp/reportTo$xmlhttprequest
||lnkd.in/li/track$xmlhttprequest
||lnkd.in^$removeparam=trk

! ===== NETWORK FILTERS — VOYAGER API AD & PROMO ENDPOINTS =====

||linkedin.com/voyager/api/ads$xmlhttprequest
||linkedin.com/voyager/api/search/wwuAds$xmlhttprequest
||linkedin.com/voyager/api/voyagerGlobalAlerts$xmlhttprequest
||linkedin.com/voyager/api/voyagerClientEventsDashClientEvents$xmlhttprequest
||linkedin.com/voyager/api/legoWidgetImpressionEvents$xmlhttprequest
||linkedin.com/voyager/api/feed/rightRailPromos$xmlhttprequest
||linkedin.com/voyager/api/feed/packageRecommendations$xmlhttprequest
||linkedin.com/voyager/api/feed/richRecommendedEntities$xmlhttprequest
||linkedin.com/voyager/api/growth/promotionTemplate$xmlhttprequest
||linkedin.com/voyager/api/growth/suggestedRoutes$xmlhttprequest
||linkedin.com/voyager/api/voyagerPremiumDashUpsellSlotContent$xmlhttprequest
||linkedin.com/voyager/api/identity/profiles/*/promoVisibility$xmlhttprequest
||linkedin.com/voyager/api/onboarding/launchpadCard$xmlhttprequest
||linkedin.com/voyager/api/learning/recommendations$xmlhttprequest
||linkedin.com/voyager/api/identity/localSkillExpertSuggestions$xmlhttprequest
||linkedin.com/voyager/api/relationships/discovery$xmlhttprequest
||linkedin.com/voyager/api/relationships/cohorts$xmlhttprequest
||linkedin.com/litms/api/metadata/user$xmlhttprequest

! ===== NETWORK FILTERS — AD IMAGES =====

||media.licdn.com/dms/image/*/ad-$image
||media.licdn.com/dms/image/*/sponsored-$image

! ===== NETWORK FILTERS — THIRD-PARTY LINKEDIN TRACKING =====

! LinkedIn tracking pixels on external sites
||linkedin.com/px$image,third-party
||linkedin.com/collect$third-party
||linkedin.com/conversions$third-party
||linkedin.com/countserv/count/$third-party

! LinkedIn Insight Tag and analytics on third-party sites
||snap.licdn.com/li.lms-analytics/$third-party
||px.ads.linkedin.com^$third-party
||px4.ads.linkedin.com^$third-party
||dc.ads.linkedin.com^$third-party

! LinkedIn-owned tracking domains on third-party sites
||sjs.bizographics.com^$third-party
||p.adsymptotic.com^$third-party
||cdn.linkedin.oribi.io^$third-party
||gw.linkedin.oribi.io^$third-party
||analytics.pointdrive.linkedin.com^$third-party

! LinkedIn CDN tracking
||licdn.com^$removeparam=trk
||licdn.com^$removeparam=tracking
||licdn.com/*.gif?rnd=$image


! ======================================================
! Source: microsoft365.txt
! ======================================================

! Title: Microsoft 365 Filters (AdGuard)
! Description: Microsoft 365 web app cleanup — adapted from uBO rules for AdGuard compatibility
! Last modified:
!
! Covers: Teams, Outlook Web, SharePoint Online, OneDrive Web, Office portal,
!         Office Web Apps (Word/Excel/PowerPoint/OneNote Online), Power Platform
!
! Note: Microsoft frequently changes class names and DOM structure.
!       Procedural filters (:has-text, :has) are more resilient
!       than class-based selectors. If a rule stops working, use the Element
!       Picker to regenerate it.
!
! Sources & references:
!   https://github.com/uBlockOrigin/uAssets/issues/26115 (Outlook.live.com ad filters)
!   https://github.com/uBlockOrigin/uAssets/issues/17041 (Office telemetry)
!   https://github.com/Stevoisiak/Stevos-GenAI-Blocklist (Copilot/GenAI filters)
!   https://gist.github.com/arcv/51e0e4ed0ff94b906b83939304b0acc7 (Outlook upgrade nag)
!   https://github.com/Pyenb/Outlook-desktop-ad-blocker (Outlook ad domains)
!   https://github.com/uBlockOrigin/uAssets/blob/master/filters/privacy.txt (MS telemetry)
!   https://github.com/pschneider1968/pihole-bl-msft-telemetry-bsi (BSI telemetry list)

! =====================================================================
! SECTION 1: MICROSOFT 365 PORTAL (office.com, microsoft365.com, m365)
! =====================================================================

! --- Copilot UI removal on M365 cloud portal ---

! Copilot chat input wrapper in the M365 portal
m365.cloud.microsoft###chat-input-wrapper

! Copilot companion pane adjacent to main content
m365.cloud.microsoft##.___g910dn0 > .___xtcqig0

! Copilot sidebar nav button and related entries
m365.cloud.microsoft##.fui-NavDrawerBody > [data-testid="core-modules-section"] > button
m365.cloud.microsoft##.fui-NavDrawerBody > .___wvxaoh0.f22iagw.f1vx9l62.fnknrz3.f5yzyt

! Copilot prompts in Edgeworth item cards (app launcher)
m365.cloud.microsoft##.EdgeworthItemControl-module__copilot-prompts__BhZZG
m365.cloud.microsoft##.EdgeworthItemControl-module__title-icon-button__UewmV

! Copilot chat entry in sidebar navigation
m365.cloud.microsoft##div.fui-NavDrawerBody > div.___12uu7fi.f22iagw.f1vx9l62.f7e3wsx > #chat
m365.cloud.microsoft##div.fui-NavDrawerBody > div.___12uu7fi.f22iagw.f1vx9l62.f7e3wsx > .___1vgvawp

! --- Promotional banners on microsoft.com / cloud.microsoft ---

! Copilot app tile in the M365 app launcher
! NOTE: :upward() not supported in AdGuard — rule omitted
! cloud.microsoft,microsoft.com###O365_AppTile_Microsoft365Tile:upward(1)

! Copilot links in the top navigation/header menu
www.microsoft.com,cloud.microsoft##:is(#shellmenu_2, #shellmenu_2-mo)[href="https://copilot.microsoft.com/"]
www.microsoft.com,cloud.microsoft##.c-uhff-nav-group > .c-list > li:has(> a:is([aria-label*="Copilot"]))

! Promotional banner in the universal header (e.g., "Try Copilot" hero banner)
www.microsoft.com,cloud.microsoft###headerUniversalHeader > #epb:has(> div[aria-label="Promotional Banner"])

! Chat-on-page Copilot widget (floating chat bubble)
www.microsoft.com##div.chatonpage

! --- Upgrade / upsell banners on office.com ---

! "Upgrade to Microsoft 365" banners (text-based matching for resilience)
office.com,microsoft365.com##div:has(> :has-text(/Upgrade to Microsoft 365/i)):not(head):not(script)
office.com,microsoft365.com##div:has(> :has-text(/Try Microsoft 365/i)):not(head):not(script)

! Upsell banners (class-based, less stable)
office.com,microsoft365.com##div[class*="UpsellBanner"]
office.com,microsoft365.com##div[class*="upsell"]
office.com,microsoft365.com##div[class*="upgrade"]
office.com,microsoft365.com##div[class*="premium-banner"]

! App install prompts (fixed-position banners saying "Get the app")
! NOTE: :matches-css() not supported in AdGuard — rule omitted
! office.com,microsoft365.com##div:has(> :has-text(/Get the app/i)):matches-css(position: fixed)
! NOTE: :matches-css() not supported in AdGuard — rule omitted
! office.com,microsoft365.com##div:has(> :has-text(/Install the app/i)):matches-css(position: fixed)

! "What's new" / feature promo banners
office.com,microsoft365.com##div[class*="whats-new"]
office.com,microsoft365.com##div[class*="feature-tour"]

! Feedback prompts
office.com,microsoft365.com##div[class*="feedback"]
office.com,microsoft365.com##div[role="dialog"]:has-text(/feedback|survey|rate/i)

! =====================================================================
! SECTION 2: MICROSOFT TEAMS (teams.microsoft.com)
! =====================================================================

! --- Copilot removal in Teams ---

! Copilot app entry in the Teams sidebar/app rail
teams.microsoft.com###b5abf2ae-c16b-4310-8f8a-d3bcdb52f162
teams.microsoft.com##[data-testid="list-item-metaos-copilot"]

! Copilot plugins and featured AI apps in the Teams app store
teams.microsoft.com##[data-tid="store-provider-app:co:copilotplugins"]
teams.microsoft.com##[data-tid="store-provider-app:co:abc1"]
teams.microsoft.com##[data-tid="store-collection-app:co:featuredapps"]
teams.microsoft.com##[data-tid="store-collection-app:co:abc1"]

! "Includes an agent and uses AI" badge on app listings
teams.microsoft.com##svg[aria-label="Includes an agent and uses AI"]

! Copilot promo text-based matching
teams.microsoft.com##div[class*="copilot"]:has-text(/Try Copilot|Get Copilot/i)
teams.microsoft.com##div[class*="teaching-bubble"]:has-text(/Copilot/i)

! --- Feature announcement popups ---

! "What's new" and feature discovery dialogs (text-based for resilience)
teams.microsoft.com##div[role="dialog"]:has(> :has-text(/What's new/i))
teams.microsoft.com##div[role="dialog"]:has(> :has-text(/Discover the new/i))
teams.microsoft.com##div[role="dialog"]:has(> :has-text(/Try the new/i))

! Teaching callout bubbles and coachmarks
teams.microsoft.com##div[class*="teachingCallout"]
teams.microsoft.com##div[class*="coachmark"]
teams.microsoft.com##div[class*="Coachmark"]
teams.microsoft.com##div[class*="whats-new"]
teams.microsoft.com##div[class*="feature-tour"]
teams.microsoft.com##div[class*="teaching-bubble"]

! --- Upgrade and premium upsell prompts ---

teams.microsoft.com##div:has(> :has-text(/Upgrade your plan/i)):not(head)
teams.microsoft.com##div:has(> :has-text(/Get Microsoft Teams Premium/i)):not(head)
teams.microsoft.com##div:has(> :has-text(/Try Premium/i)):not(head)
teams.microsoft.com##div[class*="upgrade-banner"]
teams.microsoft.com##div[class*="premium-banner"]
teams.microsoft.com##div[data-tid*="upgrade"]
teams.microsoft.com##div[data-tid*="premium"]
teams.microsoft.com##div[class*="upsell"]

! --- Feedback and survey prompts ---

teams.microsoft.com##div[role="dialog"]:has(> :has-text(/How was your experience/i))
teams.microsoft.com##div[role="dialog"]:has(> :has-text(/Rate your experience/i))
teams.microsoft.com##div[role="dialog"]:has(> :has-text(/Give us feedback/i))
teams.microsoft.com##div[role="dialog"]:has(> :has-text(/Send feedback/i))
teams.microsoft.com##div[role="dialog"]:has-text(/feedback|rate your experience|survey/i)
teams.microsoft.com##div[class*="surveyContainer"]
teams.microsoft.com##div[class*="nps-survey"]

! --- Informational bars and banners ---

! Banner bars (e.g., "Try the new Teams", "Switch to new Teams")
teams.microsoft.com##div[class*="InfoBar"]:has-text(/new Teams/i)
teams.microsoft.com##div[class*="MessageBar"]:has-text(/new Teams/i)
teams.microsoft.com##div[class*="InfoBar"]:has-text(/Switch to/i)

! teams.live.com variants (consumer Teams)
teams.live.com##div[class*="upgrade-banner"]
teams.live.com##div[class*="upsell"]
teams.live.com##div[class*="whats-new"]
teams.live.com##div[class*="teaching-bubble"]
teams.live.com##div[role="dialog"]:has-text(/feedback|rate your experience|survey/i)

! =====================================================================
! SECTION 3: OUTLOOK WEB (outlook.live.com, outlook.office.com)
! =====================================================================

! --- Display ads on free Outlook (outlook.live.com) ---
! Source: https://github.com/uBlockOrigin/uAssets/issues/26115

! Right-side banner ads (identified by "Ad Choices" text)
outlook.live.com##div[id="MainModule"] > div > div > div:has( > div > div > span:has-text(Ad Choices))

! Bottom-side banner ads (visible on narrower viewports)
outlook.live.com##div[id="mainApp"] > div > div > div:has( > div > div > span:has-text(Ad Choices))

! Top-side banner ads above the mail list
outlook.live.com##div[id="Skip to message list-region"] > div[id]:not([id="MailList"])

! In-mailbox ad entries (fake "emails" that are ads — no data-convid attribute)
outlook.live.com##div[id="MailList"] > div > div > div > div > div > div > div > div:has( > div > div:not([data-convid]))

! Generic ad panel selectors (class-based, less stable)
outlook.live.com##div[class*="GssVb"]
outlook.live.com##div[class*="_3LrWF"]
outlook.live.com##div[role="complementary"]:has(iframe)
outlook.live.com###RightRailContainer iframe
outlook.live.com##div[data-app-section="RightRail"]:has(iframe[src*="ads"])

! --- Promotional content in reading pane ---

! Hide non-email content in reading pane (e.g., mobile app QR code promo)
outlook.live.com##div[id="ReadingPaneContainerId"] > div > div > div > div:not([id="ItemReadingPaneContainer"])

! Message bar prompts (unsubscribe suggestions, info bars)
outlook.live.com##div[class^="fui-MessageBarGroup"]

! --- "Upgrade Your Account" row ---
! Source: https://gist.github.com/arcv/51e0e4ed0ff94b906b83939304b0acc7
! NOTE: :upward() not supported in AdGuard — rule omitted
! outlook.live.com##span:has-text(Microsoft Outlook):upward(8)

! --- Premium / upgrade upsells (text-based) ---

outlook.live.com##div:has(> :has-text(/Upgrade to Premium/i)):not(head)
outlook.live.com##div:has(> :has-text(/Try Premium/i)):not(head)
outlook.live.com##div:has(> :has-text(/Go Premium/i)):not(head)
outlook.live.com##div:has(> :has-text(/Go ad-free/i)):not(head)
! NOTE: :matches-attr() not supported in AdGuard — rule omitted
! outlook.live.com##div:has-text(/Get Microsoft 365/i):matches-attr(class="/upsell|premium|upgrade/i")

! "Upgrade to Premium" button (legacy selector)
outlook.live.com##._n_15

! Upsell class-based selectors
outlook.live.com##div[class*="upsell"]
outlook.live.com##div[class*="premium-banner"]
outlook.live.com##a[href*="premium"][class*="upsell"]

! outlook.office.com (work/school accounts) upsells
! NOTE: :matches-css() not supported in AdGuard — rule omitted
! outlook.office.com##div:has(> :has-text(/Upgrade/i)):matches-css(position: fixed)
outlook.office.com##div:has(> :has-text(/Try Copilot/i)):not(head)
outlook.office.com##div[class*="upsell"]
outlook.office.com##div[class*="premium-banner"]
! NOTE: :matches-css() not supported in AdGuard — rule omitted
! outlook.office365.com##div:has(> :has-text(/Upgrade/i)):matches-css(position: fixed)
outlook.office365.com##div:has(> :has-text(/Try Copilot/i)):not(head)

! Focused inbox promo banner
outlook.live.com##div[class*="FocusedInboxBanner"]
outlook.office.com##div[class*="FocusedInboxBanner"]

! "Discover" / "Suggested" panel items
outlook.live.com##div[aria-label*="Suggestions"]
outlook.live.com##div[aria-label*="Discover"]

! --- Copilot in Outlook Web ---

! Copilot button in toolbar
outlook.live.com##button[aria-label*="Copilot"]
outlook.office.com##button[aria-label*="Copilot"]
outlook.office365.com##button[aria-label*="Copilot"]

! Copilot summary bar on email reading pane
outlook.live.com##div:has(> :has-text(/Summarize with Copilot/i)):not(head)
outlook.office.com##div:has(> :has-text(/Summarize with Copilot/i)):not(head)
outlook.office365.com##div:has(> :has-text(/Summarize with Copilot/i)):not(head)

! Copilot pane / panel (class-based)
outlook.live.com##div[class*="CopilotPanel"]
outlook.office.com##div[class*="CopilotPanel"]

! Copilot promo text matches
outlook.live.com##div[class*="copilot"]:has-text(/Try Copilot|Get Copilot/i)
outlook.office.com##div[class*="copilot"]:has-text(/Try Copilot|Get Copilot/i)
outlook.live.com##div[class*="teaching-bubble"]:has-text(/Copilot/i)
outlook.office.com##div[class*="teaching-bubble"]:has-text(/Copilot/i)

! Copilot upsell buttons
outlook.live.com##button:has-text(/Copilot/i):has([class*="upsell"])
outlook.office.com##button:has-text(/Copilot/i):has([class*="upsell"])

! --- "Get the Outlook app" / mobile app promos ---

outlook.live.com##div:has(> :has-text(/Get the Outlook app/i)):not(head)
outlook.live.com##div:has(> :has-text(/Scan this QR code/i)):not(head)
outlook.office.com##div:has(> :has-text(/Get the Outlook app/i)):not(head)

! --- Feedback / survey prompts ---

outlook.live.com##div[class*="feedback"]
outlook.live.com##div[class*="survey"]
outlook.live.com##div[role="dialog"]:has-text(/feedback|survey|rate/i)
outlook.live.com##div[role="dialog"]:has(> :has-text(/How was your experience/i))
outlook.live.com##div[role="dialog"]:has(> :has-text(/Rate your experience/i))
outlook.live.com##div[role="dialog"]:has(> :has-text(/Give feedback/i))
outlook.office.com##div[class*="feedback"]
outlook.office.com##div[class*="survey"]
outlook.office.com##div[role="dialog"]:has-text(/feedback|survey|rate/i)
outlook.office.com##div[role="dialog"]:has(> :has-text(/How was your experience/i))
outlook.office.com##div[role="dialog"]:has(> :has-text(/Rate your experience/i))
outlook.office.com##div[role="dialog"]:has(> :has-text(/Give feedback/i))

! =====================================================================
! SECTION 4: SHAREPOINT ONLINE (*.sharepoint.com)
! =====================================================================

! --- Copilot / AI in SharePoint ---

! "Design Ideas" Copilot button on SharePoint pages
! Source: https://github.com/Stevoisiak/Stevos-GenAI-Blocklist
! NOTE: :upward() not supported in AdGuard — rule omitted
! sharepoint.com##[data-automation-id="designIdeas"]:upward(1)

! --- Promotional banners ---

! NOTE: :matches-css() not supported in AdGuard — rule omitted
! sharepoint.com##div:has(> :has-text(/Try the new/i)):matches-css(position: fixed)
sharepoint.com##div:has(> :has-text(/Upgrade your plan/i)):not(head)
sharepoint.com##div[class*="PromotionalBanner"]
sharepoint.com##div[class*="promotionalBanner"]
sharepoint.com##div[class*="app-banner"]
sharepoint.com##div[class*="upsell"]

! --- Feedback and survey prompts ---

sharepoint.com##div[role="dialog"]:has(> :has-text(/Give us feedback/i))
sharepoint.com##div[role="dialog"]:has(> :has-text(/How was your experience/i))
sharepoint.com##div[role="dialog"]:has(> :has-text(/Rate your experience/i))
sharepoint.com##div[role="dialog"]:has(> :has-text(/Help us improve/i))
sharepoint.com##div[role="dialog"]:has-text(/feedback|survey|rate/i)
sharepoint.com##div[class*="FeedbackDialog"]
sharepoint.com##div[class*="surveyContainer"]
sharepoint.com##div[id*="feedback-dialog"]
sharepoint.com##div[class*="feedback"]
sharepoint.com##div[class*="survey"]

! --- "What's new" / feature discovery ---

sharepoint.com##div[role="dialog"]:has(> :has-text(/What's new/i))
sharepoint.com##div[class*="teachingCallout"]
sharepoint.com##div[class*="Coachmark"]
sharepoint.com##div[class*="whats-new"]
sharepoint.com##div[class*="teaching-bubble"]
sharepoint.com##div[class*="coachmark"]

! =====================================================================
! SECTION 5: ONEDRIVE WEB (onedrive.live.com)
! =====================================================================

! --- Storage upgrade upsell prompts (text-based) ---

onedrive.live.com##div:has(> :has-text(/Get more storage/i)):not(head)
onedrive.live.com##div:has(> :has-text(/Storage is almost full/i)):not(head)
onedrive.live.com##div:has(> :has-text(/Upgrade your storage/i)):not(head)
onedrive.live.com##div:has(> :has-text(/You're running out of space/i)):not(head)
onedrive.live.com##div:has(> :has-text(/Upgrade to Microsoft 365/i)):not(head)
onedrive.live.com##div:has(> :has-text(/Try Premium/i)):not(head)
onedrive.live.com##div:has(> :has-text(/Go Premium/i)):not(head)

! Storage/upsell class-based selectors
onedrive.live.com##div[class*="UpsellBanner"]
onedrive.live.com##div[class*="upsell"]
onedrive.live.com##div[class*="upgrade"]
onedrive.live.com##div[class*="storage-warning"]
onedrive.live.com##div[class*="StorageUpsell"]
onedrive.live.com##a[href*="upgradestorage"]
onedrive.live.com##div[role="dialog"]:has-text(/upgrade your storage|get more storage/i)

! --- Ads and promotional content ---

onedrive.live.com##div:has(> span:has-text(Ad Choices))

! --- Feedback prompts ---

onedrive.live.com##div[class*="feedback"]
onedrive.live.com##div[role="dialog"]:has-text(/feedback|survey|rate/i)
onedrive.live.com##div[role="dialog"]:has(> :has-text(/Give feedback/i))
onedrive.live.com##div[role="dialog"]:has(> :has-text(/How was your experience/i))
onedrive.live.com##div[role="dialog"]:has(> :has-text(/Rate your experience/i))

! =====================================================================
! SECTION 6: OFFICE WEB APPS (Word, Excel, PowerPoint, OneNote Online)
! =====================================================================

! --- Copilot ribbon buttons in Office Web Apps ---
! Source: https://github.com/Stevoisiak/Stevos-GenAI-Blocklist

! Word Online — Copilot Chat ribbon group
! NOTE: :upward() not supported in AdGuard — rule omitted
! usc-word-edit.officeapps.live.com###CopilotChat-group:upward(2)

! OneNote Online — Copilot Chat ribbon group
! NOTE: :upward() not supported in AdGuard — rule omitted
! usc-onenote.officeapps.live.com###CopilotChat-group:upward(2)

! Excel Online — Copilot ribbon group
! NOTE: :upward() not supported in AdGuard — rule omitted
! usc-excel.officeapps.live.com###Copilot-group:upward(2)

! PowerPoint Online — Copilot (ChatPPT) ribbon group
! NOTE: :upward() not supported in AdGuard — rule omitted
! usc-powerpoint.officeapps.live.com###ChatPPT-group:upward(2)

! =====================================================================
! SECTION 7: MICROSOFT LEARN (learn.microsoft.com)
! =====================================================================

! AI assistant entry point on Learn homepage
learn.microsoft.com##[data-assistant-on-homepage="enabled"]

! "Ask Learn" AI assistant button
learn.microsoft.com##[data-bi-name="ask-learn-assistant-entry"]

! AI-generated summary sections
learn.microsoft.com##[data-id="ai-summary"]

! =====================================================================
! SECTION 8: MICROSOFT POWER PLATFORM
! =====================================================================

! Power Automate — Copilot banner and AI hub
! NOTE: :upward() not supported in AdGuard — rule omitted
! make.powerautomate.com##[data-automation-id="copilotBanner"]:upward(2)
make.powerautomate.com##[data-test-id="aiHub"], [data-test-id="aiPrompts"]
make.powerautomate.com##.wrapper-178[href="https://copilotstudio.microsoft.com"]

! Power Platform admin center — Copilot overview link
admin.powerplatform.microsoft.com##button[value="/copilot/overview"]

! =====================================================================
! SECTION 9: NETWORK FILTERS — TELEMETRY & TRACKING
! =====================================================================

! --- Microsoft Aria telemetry system ---
! Used across all M365 web apps for diagnostic/behavioral data collection.
! Source: https://github.com/uBlockOrigin/uAssets/issues/17041
!
! WARNING: Blocking browser.pipe.aria.microsoft.com entirely may break
! Teams login (it enters an infinite loop). The rules below use $xmlhttprequest to
! target only XHR/fetch telemetry requests, not page navigation.

! Office Apps telemetry wildcard (Word, Excel, PPT, OneNote web)
-telemetry.officeapps.live.com$ping,xmlhttprequest

! Power Automate internal telemetry
||flow.microsoft.com/providers/Internal.Telemetry

! Browser events telemetry on apps.microsoft.com
||browser.events.data.microsoft.com^$domain=apps.microsoft.com

! General M365 telemetry endpoints
||browser.pipe.aria.microsoft.com^$xmlhttprequest
||mobile.pipe.aria.microsoft.com^$xmlhttprequest
||self.events.data.microsoft.com^$xmlhttprequest
||functional.events.data.microsoft.com^$xmlhttprequest
||telemetry.microsoft.com^$xmlhttprequest

! Office web app telemetry beacons
||office.live.com/start/Telemetry$xmlhttprequest
||c.microsoft.com/ms.js$script
||c.bing.com/c.gif$image
||c1.microsoft.com/c.gif$image

! --- Microsoft telemetry cookies ---
! Source: uBlockOrigin/uAssets privacy.txt
! NOTE: ##+js() scriptlet injection not supported in AdGuard — rule omitted
! bing.com,microsoft.com,msn.com,web.skype.com##+js(cookie-remover, MicrosoftApplicationsTelemetryDeviceId, when, scroll keydown)
! NOTE: ##+js() scriptlet injection not supported in AdGuard — rule omitted
! web.skype.com##+js(cookie-remover, MicrosoftApplicationsTelemetryFirstLaunchTime)
! NOTE: ##+js() scriptlet injection not supported in AdGuard — rule omitted
! microsoft.com##+js(trusted-set-cookie, MicrosoftApplicationsTelemetryDeviceId, , 0)

! --- Ad-serving domains used by Outlook web (outlook.live.com) ---
||outlookads.live.com^
||m.adnxs.com^$domain=outlook.live.com
||acdn.adnxs.com^$domain=outlook.live.com
||api.taboola.com^$domain=outlook.live.com
||3lift.com^$domain=outlook.live.com
||ads.msn.com^$domain=outlook.live.com|office.com
||adsyndication.msn.com^$domain=outlook.live.com|office.com

! Additional MSN/Bing ad network domains
||ads.msn.com^$third-party
||adsyndication.msn.com^$third-party
||flexrev.msn.com^$third-party
||rad.msn.com^$third-party
||mads.msn.com^$third-party

! Microsoft advertising platforms
||ads.microsoft.com^$third-party
||adnxs.com^$third-party
||bat.bing.com^$third-party

! --- Microsoft feedback/NPS survey endpoints ---
||hubblecontent.osi.office.net^$xmlhttprequest
||oteljs.azurefd.net^$script
||outlookmobile.live.com/api/v2/feedback$xmlhttprequest
||aka.ms/feedback$xmlhttprequest

! --- Tracking parameter removal on Microsoft domains ---
||office.com^$removeparam=ocid
||microsoft.com^$removeparam=ocid
||microsoft.com^$removeparam=msockid
||microsoft365.com^$removeparam=ocid
||live.com^$removeparam=ocid

! --- Optional: Aggressive telemetry domain blocking ---
! Uncomment below ONLY if you accept the risk of potential breakage.
! Blocking browser.pipe.aria.microsoft.com may break Teams login.
! Blocking nexus/nexusrules may affect Office Online functionality.
!
! ||browser.pipe.aria.microsoft.com^$domain=~teams.microsoft.com
! ||nexus.officeapps.live.com^
! ||nexusrules.officeapps.live.com^
! ||client-office365-tas.msedge.net^
! ||config.edge.skype.com^
! ||officeclient.microsoft.com^

! =====================================================================
! SECTION 10: CROSS-SITE MICROSOFT ANNOYANCES
! =====================================================================

! --- Generic feedback / NPS survey dialogs across all M365 domains ---
microsoft.com,office.com,microsoft365.com,sharepoint.com,onedrive.live.com,outlook.live.com,outlook.office.com,teams.microsoft.com##div[id*="nps-survey"]
microsoft.com,office.com,microsoft365.com,sharepoint.com,onedrive.live.com,outlook.live.com,outlook.office.com,teams.microsoft.com##div[class*="nps-survey"]
microsoft.com,office.com,microsoft365.com,sharepoint.com,onedrive.live.com,outlook.live.com,outlook.office.com,teams.microsoft.com##div[class*="SurveyDialog"]

! --- Cookie consent / privacy banners ---
microsoft.com,office.com,microsoft365.com##div[id="uhf-cookie-banner"]
microsoft.com,office.com,microsoft365.com##div[id*="consent-banner"]
microsoft.com,office.com,microsoft365.com##div[class*="cookie-banner"]
microsoft.com,office.com,microsoft365.com##div[class*="CookieBanner"]

! --- Microsoft Rewards / Bing promotion banners ---
office.com,microsoft365.com##div:has(> :has-text(/Microsoft Rewards/i)):not(head)
office.com,microsoft365.com##div:has(> :has-text(/Earn points/i)):not(head)

! --- "Download Edge" / "Switch to Edge" prompts ---
office.com,microsoft365.com,outlook.live.com##div:has(> :has-text(/Try Microsoft Edge/i)):not(head)
office.com,microsoft365.com,outlook.live.com##div:has(> :has-text(/Download Microsoft Edge/i)):not(head)
office.com,microsoft365.com,outlook.live.com##div:has(> :has-text(/Switch to Edge/i)):not(head)

! --- Copilot promo teaching callouts (cross-app) ---
office.com,microsoft365.com##div[class*="copilot"]:has-text(/Try Copilot|Get Copilot/i)
office.com,microsoft365.com##div[class*="teaching-bubble"]:has-text(/Copilot/i)
teams.microsoft.com##button:has-text(/Copilot/i):has([class*="upsell"])


! ======================================================
! Source: youtube.txt
! ======================================================

! Title: YouTube Filters (AdGuard)
! Description: YouTube cleanup — adapted from uBO rules for AdGuard compatibility
! Last modified:

! ===== SHORTS REMOVAL =====

www.youtube.com##ytd-reel-shelf-renderer
www.youtube.com##ytd-rich-section-renderer:has(ytd-reel-shelf-renderer)
www.youtube.com##ytd-rich-section-renderer:has(#dismissible)

! Shorts sections using link-based detection (newer approach)
www.youtube.com##ytd-rich-section-renderer:has(a[href^="/shorts/"])

www.youtube.com##ytd-search ytd-reel-shelf-renderer
www.youtube.com##ytd-search grid-shelf-view-model:has(.shortsLockupViewModelHost)
www.youtube.com##ytd-search ytd-video-renderer:has(badge-shape[aria-label="Shorts"])

youtube.com##ytd-grid-video-renderer:has([overlay-style="SHORTS"])
youtube.com##ytd-rich-item-renderer:has([overlay-style="SHORTS"])
youtube.com##ytd-video-renderer:has([overlay-style="SHORTS"])
youtube.com##ytd-compact-video-renderer:has([overlay-style="SHORTS"])

youtube.com##ytd-grid-video-renderer:has(#video-title:has-text(/#[Ss]horts?/))
youtube.com##ytd-rich-item-renderer:has(#video-title:has-text(/#[Ss]horts?/))

youtube.com##ytd-item-section-renderer.ytd-section-list-renderer[page-subtype="subscriptions"]:has(ytd-video-renderer:has([overlay-style="SHORTS"]))

! Shorts button in sidebar (stricter matching)
youtube.com##ytd-guide-entry-renderer:has(yt-formatted-string:has-text(/^Shorts$/i))
youtube.com##ytd-mini-guide-entry-renderer:has(.title:has-text(/^Shorts$/i))

! Shorts tab on channel pages
youtube.com##yt-tab-shape:has-text(/^Shorts$/)

! NOTE: :matches-path() not supported in AdGuard — path-aware Shorts rules omitted

! Shorts Remix section
www.youtube.com##ytd-reel-shelf-renderer:has-text(/Shorts.?Remix/i)

! ===== HOME PAGE CLEANUP =====

www.youtube.com##[page-subtype="home"] ytd-rich-section-renderer:has(#dismissible)
www.youtube.com##ytd-rich-section-renderer
www.youtube.com##ytd-shelf-renderer

www.youtube.com##[page-subtype="home"] ytd-rich-item-renderer #attached-survey
www.youtube.com##[page-subtype="home"] ytd-rich-section-renderer:has(ytd-inline-survey-renderer)

! NOTE: :matches-attr() not supported in AdGuard — these rules are omitted:
!   - Already-watched videos (>=70% progress) — uses :matches-attr()
!   - Low view count filtering — uses complex regex with :has-text() (may partially work)

! Old videos (1+ years) — :has-text with regex works in AdGuard
www.youtube.com##[page-subtype="home"] ytd-rich-item-renderer:has(.inline-metadata-item.ytd-video-meta-block:has-text(/ years? ago$/))

! Mixes/playlists
www.youtube.com##[page-subtype="home"] ytd-rich-item-renderer:has(yt-collections-stack)

! Members only
www.youtube.com##[page-subtype="home"] ytd-rich-item-renderer:has(.badge-style-type-members-only)

! Premium
www.youtube.com##[page-subtype="home"] ytd-rich-item-renderer:has(.badge[aria-label="Premium"])

! Pay to watch
www.youtube.com##[page-subtype="home"] ytd-rich-item-renderer:has(.badge[aria-label="Pay to watch"])

! Upcoming
www.youtube.com##[page-subtype="home"] ytd-rich-item-renderer:has(ytd-thumbnail-overlay-time-status-renderer[overlay-style="UPCOMING"])

! Recorded livestreams
www.youtube.com##[page-subtype="home"] ytd-rich-item-renderer:has(.inline-metadata-item.ytd-video-meta-block:has-text(/^Streamed/))

! Playables
youtube.com##ytd-rich-section-renderer:has-text(/Playables/i)

! Big yoodle
www.youtube.com##[page-subtype="home"] #big-yoodle

! ===== AD ELEMENTS =====

youtube.com##ytd-display-ad-renderer
youtube.com##ytd-promoted-sparkles-web-renderer
youtube.com##.ytp-ad-module
youtube.com##.branding-img-container

! ===== VIDEO PLAYER CLEANUP =====

www.youtube.com##.ytp-quality-menu .ytp-menuitem:has(.ytp-premium-label)
youtube.com##.ytp-quality-menu.ytp-panel > .ytp-panel-menu > div.ytp-menuitem:has-text(/Enhanced bitrate/i)

www.youtube.com##ytd-engagement-panel-section-list-renderer[target-id="engagement-panel-ads"]
www.youtube.com###offer-module
www.youtube.com##ytd-merch-shelf-renderer
www.youtube.com###content-section

www.youtube.com##.ytp-ce-element
www.youtube.com##.ytp-ce-element-show

! Heat map chapter overlay
www.youtube.com##.ytp-heat-map-chapter

! Fullscreen quick actions and stills overlay
www.youtube.com##.ytp-fullscreen-quick-actions
www.youtube.com##.ytp-fullscreen-grid-stills-container

! Cards teaser text and button
youtube.com##.ytp-cards-teaser-text
youtube.com##.ytp-cards-button-icon-default

! Pause overlay annotations
youtube.com##.annotation-type-text.annotation
youtube.com##.ytp-scroll-min.ytp-pause-overlay

www.youtube.com##ytd-watch-metadata #sponsor-button
www.youtube.com###sponsor-button

www.youtube.com##ytd-watch-metadata #actions ytd-button-renderer:has([aria-label="Thanks"])
www.youtube.com##ytd-watch-metadata #actions ytd-button-renderer:has([aria-label="Clip"])
www.youtube.com##ytd-watch-metadata #actions ytd-download-button-renderer

! NOTE: :remove-attr() not supported in AdGuard — fullscreen scroll fix omitted

! Live Chat AI Summary
www.youtube.com###live-chat-banner > .yt-live-chat-banner-manager.style-scope:has-text(/Chat summary/i)

! Seasonal doodle logo
www.youtube.com##ytd-topbar-logo-renderer > a > ytd-yoodle-renderer

! ===== SIDEBAR & RECOMMENDATIONS =====

www.youtube.com##ytd-compact-video-renderer:has(.badge-style-type-members-only)
www.youtube.com##ytd-compact-radio-renderer
www.youtube.com##ytd-search ytd-shelf-renderer[thumbnail-style]
www.youtube.com##ytd-search #contents > ytd-horizontal-card-list-renderer
www.youtube.com##ytd-compact-movie-renderer
www.youtube.com##ytd-compact-video-renderer:has(ytd-thumbnail-overlay-time-status-renderer[overlay-style="UPCOMING"])

! ===== COMMENTS & CHAT =====

www.youtube.com##yt-live-chat-ticker-renderer
www.youtube.com##yt-live-chat-membership-item-renderer

! ===== SEARCH RESULTS =====

www.youtube.com##ytd-search ytd-movie-renderer
www.youtube.com##ytd-search ytd-secondary-search-container-renderer:has(ytd-universal-watch-card-renderer)
www.youtube.com##grid-shelf-view-model.ytGridShelfViewModelHostHasBottomButton
www.youtube.com##ytd-horizontal-card-list-renderer.ytd-item-section-renderer.style-scope

! ===== SUBSCRIPTIONS PAGE =====

www.youtube.com##[page-subtype="subscriptions"] ytd-rich-section-renderer:has(#dismissible)
www.youtube.com##[page-subtype="subscriptions"] ytd-rich-item-renderer:has(ytd-thumbnail-overlay-time-status-renderer[overlay-style="UPCOMING"])
www.youtube.com##[page-subtype="subscriptions"] ytd-rich-item-renderer:has-text(Premiere)
www.youtube.com##[page-subtype="subscriptions"] ytd-rich-item-renderer:has(.badge-style-type-members-only)
www.youtube.com##[page-subtype="subscriptions"] ytd-rich-item-renderer:has(.badge[aria-label="Premium"])
www.youtube.com##[page-subtype="subscriptions"] ytd-rich-item-renderer:has(.inline-metadata-item.ytd-video-meta-block:has-text(/^Streamed/))
www.youtube.com##[page-subtype="subscriptions"] ytd-rich-item-renderer:has(.yt-badge-shape--membership)

! ===== CHANNEL PAGES =====

www.youtube.com##[page-subtype="channels"] #page-header-banner
www.youtube.com##[page-subtype="channels"] ytd-section-list-renderer > #contents > ytd-item-section-renderer:has(ytd-reel-shelf-renderer)
www.youtube.com##[page-subtype="channels"] ytd-section-list-renderer > #contents > ytd-item-section-renderer:has(ytd-recognition-shelf-renderer)
www.youtube.com##[page-subtype="channels"] ytd-rich-item-renderer:has(.badge-style-type-members-only)
www.youtube.com##[page-subtype="channels"] ytd-rich-item-renderer:has(.badge[aria-label="Premium"])

! ===== NAVIGATION =====

www.youtube.com##ytd-guide-section-renderer:has(#guide-section-title:has-text(/Explore/))
www.youtube.com##ytd-guide-section-renderer:has(#guide-section-title:has-text(/More from YouTube/))
www.youtube.com###masthead #center #voice-search-button
www.youtube.com###masthead #end #buttons > ytd-button-renderer

! ===== NETWORK FILTERS =====

||youtube.com^$removeparam=feature
||youtube.com^$removeparam=gclid
||youtube.com^$removeparam=si
||youtube.com^$removeparam=pp
||youtube.com^$removeparam=cbrd
||youtube.com^$removeparam=ucbcb

||googlesyndication.com^$third-party
||doubleclick.net^$third-party
||googleadservices.com^$third-party
||youtube.com/api/stats/ads$xmlhttprequest
||youtube.com/pagead/$xmlhttprequest
||youtube.com/get_midroll_$xmlhttprequest

! Ad telemetry and tracking beacons
||youtube.com/api/stats/playback$xmlhttprequest
||youtube.com/ptracking$xmlhttprequest
||youtube.com/api/stats/watchtime$xmlhttprequest


